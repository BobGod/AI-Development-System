# ğŸ§  Claude Code é¡¹ç›®è®°å¿†ç³»ç»Ÿ

è¿™ä¸ªæ–‡ä»¶è®°å½•äº†Claudeåœ¨å¼€å‘è¿‡ç¨‹ä¸­ç§¯ç´¯çš„é¡¹ç›®çŸ¥è¯†ã€è°ƒè¯•ç»éªŒå’Œä¼˜åŒ–æ–¹æ¡ˆï¼Œä½œä¸ºé¡¹ç›®çš„æŒä¹…è®°å¿†ã€‚

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

**æ™ºèƒ½è¡Œä¸šçŸ¥è¯†é—®ç­”ç³»ç»Ÿ** - åŸºäºDeepSeekå¤§æ¨¡å‹çš„å¤šé¢†åŸŸæ™ºèƒ½çŸ¥è¯†é—®ç­”API
- æ”¯æŒPDFã€Wordã€Excelã€å›¾ç‰‡ç­‰å¤šç§æ–‡æ¡£æ ¼å¼
- ä½¿ç”¨ChromaDBå‘é‡æ•°æ®åº“å­˜å‚¨å’Œæ£€ç´¢çŸ¥è¯†
- é›†æˆ10ä¸ªä¸“ä¸šAIè§’è‰²ï¼Œæ”¯æŒå¤šé¢†åŸŸé—®ç­”
- å…·å¤‡ä¼šè¯è®°å¿†å’Œä¸Šä¸‹æ–‡ç†è§£èƒ½åŠ›

## ğŸ› ï¸ æ ¸å¿ƒæŠ€æœ¯æ ˆ

### åç«¯æŠ€æœ¯
- **Python 3.13** - ä¸»è¦å¼€å‘è¯­è¨€
- **FastAPI** - Webæ¡†æ¶å’ŒAPIæœåŠ¡
- **DeepSeek API** - å¤§è¯­è¨€æ¨¡å‹æœåŠ¡
- **ChromaDB** - å‘é‡æ•°æ®åº“
- **Sentence Transformers** - æ–‡æœ¬åµŒå…¥æ¨¡å‹(all-MiniLM-L6-v2)

### æ–‡æ¡£å¤„ç†
- **pdfplumber** - PDFè§£æ(ä¼˜é€‰ï¼Œä¸­æ–‡æ”¯æŒå¥½)
- **PyMuPDF (fitz)** - PDFè§£æå¤‡é€‰æ–¹æ¡ˆ
- **python-docx** - Wordæ–‡æ¡£å¤„ç†
- **openpyxl** - Excelæ–‡æ¡£å¤„ç†
- **pytesseract** - OCRæ–‡å­—è¯†åˆ«

### å‰ç«¯æŠ€æœ¯
- **Vue.js** - ç”¨æˆ·ç•Œé¢æ¡†æ¶
- **HTML/CSS/JavaScript** - Webå‰ç«¯æŠ€æœ¯

## ğŸ”§ é‡è¦è°ƒè¯•ç»éªŒ

### PDFè§£æç¼–ç é—®é¢˜ (2025-07-30)

**é—®é¢˜**: PDFæ–‡æ¡£è§£æå‡ºç°ä¸­æ–‡ä¹±ç ï¼Œå¯¼è‡´AIæ— æ³•ä½¿ç”¨ä¸Šä¼ çš„æ–‡æ¡£çŸ¥è¯†

**æ ¹æœ¬åŸå› **:
1. PyPDF2åº“å¯¹ä¸­æ–‡PDFæ”¯æŒä¸ä½³
2. å‘é‡æœç´¢ç›¸ä¼¼åº¦è®¡ç®—å…¬å¼é”™è¯¯
3. çŸ¥è¯†åº“ä¸­å­˜åœ¨æŸåçš„ä¹±ç æ•°æ®

**è§£å†³æ–¹æ¡ˆ**:
```python
# 1. å‡çº§PDFè§£æåº“ç»„åˆ
import pdfplumber  # ä¼˜é€‰æ–¹æ¡ˆ
import fitz  # PyMuPDFå¤‡é€‰

# 2. å¤šå±‚çº§è§£æç­–ç•¥
async def _parse_pdf(self, file_path, metadata):
    # ä¼˜å…ˆä½¿ç”¨pdfplumber
    with pdfplumber.open(str(file_path)) as pdf:
        # æå–æ–‡æœ¬...
    
    # å¦‚æœæ•ˆæœä¸å¥½ï¼Œä½¿ç”¨PyMuPDF
    if content_insufficient:
        doc = fitz.open(str(file_path))
        # æå–æ–‡æœ¬...
    
    # æœ€åä½¿ç”¨OCR
    if still_insufficient:
        # OCRå¤„ç†...

# 3. ä¿®å¤ç›¸ä¼¼åº¦è®¡ç®—
similarity_score = 1.0 / (1.0 + distance)  # æ­£ç¡®å…¬å¼
```

**æ•ˆæœéªŒè¯**:
- ä¸­æ–‡æå–æˆåŠŸç‡: 0% â†’ 35.7%
- å‘é‡æœç´¢ç»“æœ: 0ä¸ª â†’ 5ä¸ª
- AIå›ç­”ç½®ä¿¡åº¦: æå‡åˆ°0.72

**ç»éªŒæ•™è®­**:
- PDFè§£ææ˜¯çŸ¥è¯†é—®ç­”ç³»ç»Ÿçš„åŸºç¡€ï¼Œè´¨é‡ç›´æ¥å½±å“æ•´ä½“æ•ˆæœ
- éœ€è¦é’ˆå¯¹ä¸­æ–‡å†…å®¹é€‰æ‹©åˆé€‚çš„è§£æåº“
- å‘é‡æœç´¢çš„ç›¸ä¼¼åº¦è®¡ç®—å¿…é¡»ä¸æ•°æ®åº“åŒ¹é…
- ç«¯åˆ°ç«¯éªŒè¯æ˜¯å‘ç°é—®é¢˜çš„æœ€æœ‰æ•ˆæ–¹æ³•

### ChromaDBå‘é‡æœç´¢ä¼˜åŒ–

**æœ€ä½³å®è·µ**:
```python
# æ­£ç¡®çš„ç›¸ä¼¼åº¦è®¡ç®—
if distance == 0:
    similarity_score = 1.0
else:
    similarity_score = 1.0 / (1.0 + distance)

# åˆç†çš„é˜ˆå€¼è®¾ç½®
similarity_threshold = 0.3  # é€šå¸¸0.2-0.4èŒƒå›´

# è°ƒè¯•æŠ€å·§
results = collection.query(query_texts=["æµ‹è¯•"], n_results=5)
print(f"è·ç¦»: {results['distances'][0]}")
print(f"ç›¸ä¼¼åº¦: {[1.0/(1.0+d) for d in results['distances'][0]]}")
```

## ğŸ§  AIè‡ªæˆ‘è¿›åŒ–ç³»ç»Ÿ

### ç³»ç»Ÿè®¾è®¡ç†å¿µ
åŸºäºç”¨æˆ·åé¦ˆ"è®©AIç³»ç»Ÿä»æ¯æ¬¡ä¼˜åŒ–ä¸­å­¦ä¹ "çš„éœ€æ±‚ï¼Œè®¾è®¡äº†å®Œæ•´çš„è‡ªæˆ‘è¿›åŒ–æ¡†æ¶:

### æ ¸å¿ƒç»„ä»¶
1. **ExperienceKnowledgeBase** - ç»éªŒçŸ¥è¯†åº“
   - ç»“æ„åŒ–å­˜å‚¨è°ƒè¯•ç»éªŒå’Œè§£å†³æ–¹æ¡ˆ
   - æ”¯æŒç›¸ä¼¼ç»éªŒæŸ¥æ‰¾å’Œè§£å†³æ–¹æ¡ˆå»ºè®®
   - è‡ªåŠ¨æå–ä¼˜åŒ–æ¨¡å¼

2. **AdaptiveLearningEngine** - è‡ªé€‚åº”å­¦ä¹ å¼•æ“
   - åˆ†æç”¨æˆ·äº¤äº’æ¨¡å¼
   - æ£€æµ‹ç³»ç»Ÿæ€§èƒ½é—®é¢˜
   - ä¸»åŠ¨å»ºè®®ä¼˜åŒ–æ–¹æ¡ˆ

3. **EvolutionaryAnswerGenerator** - è¿›åŒ–ç‰ˆé—®ç­”ç”Ÿæˆå™¨
   - å®æ—¶ç›‘æ§ç­”æ¡ˆè´¨é‡
   - è‡ªåŠ¨è®°å½•è´¨é‡é—®é¢˜
   - åŸºäºå†å²ç»éªŒä¼˜åŒ–ç”Ÿæˆç­–ç•¥

### ä½¿ç”¨æ–¹å¼
```python
# æ›¿æ¢æ ‡å‡†ç­”æ¡ˆç”Ÿæˆå™¨
answer_generator = EvolutionaryAnswerGenerator(llm_client, vector_store, config)

# è·å–è¿›åŒ–ç»Ÿè®¡
stats = answer_generator.get_evolution_statistics()

# è·å–ä¼˜åŒ–å»ºè®®
suggestions = await answer_generator.get_proactive_suggestions()
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
project-20250729-f1a705ab/
â”œâ”€â”€ code/
â”‚   â”œâ”€â”€ ai_evolution/           # AIè‡ªæˆ‘è¿›åŒ–ç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ experience_system.py
â”‚   â”‚   â””â”€â”€ evolution_integration.py
â”‚   â”œâ”€â”€ knowledge_ingestion/    # æ–‡æ¡£å¤„ç†
â”‚   â”‚   â”œâ”€â”€ document_parser.py
â”‚   â”‚   â””â”€â”€ web_crawler.py
â”‚   â”œâ”€â”€ knowledge_base/         # çŸ¥è¯†åº“ç®¡ç†
â”‚   â”‚   â””â”€â”€ vector_store.py
â”‚   â”œâ”€â”€ qa_engine/             # é—®ç­”å¼•æ“
â”‚   â”‚   â””â”€â”€ answer_generator.py
â”‚   â”œâ”€â”€ llm_integration/       # LLMé›†æˆ
â”‚   â”‚   â””â”€â”€ deepseek_client.py
â”‚   â”œâ”€â”€ web_interface/         # Webæ¥å£
â”‚   â”‚   â””â”€â”€ api_server.py
â”‚   â””â”€â”€ session_manager.py     # ä¼šè¯ç®¡ç†
â”œâ”€â”€ uploads/                   # ä¸Šä¼ æ–‡ä»¶å­˜å‚¨
â”œâ”€â”€ knowledge_db/             # ChromaDBæ•°æ®ç›®å½•
â”œâ”€â”€ experience_kb/            # ç»éªŒçŸ¥è¯†åº“
â””â”€â”€ .env                      # ç¯å¢ƒé…ç½®
```

## ğŸ” è°ƒè¯•æŠ€å·§

### PDFè§£æé—®é¢˜æ’æŸ¥
```bash
# æµ‹è¯•PDFè§£æè´¨é‡
python -c "
import pdfplumber
with pdfplumber.open('test.pdf') as pdf:
    text = pdf.pages[0].extract_text()
    print(f'é•¿åº¦: {len(text)}')
    print(f'ä¸­æ–‡å­—ç¬¦: {sum(1 for c in text if "\u4e00" <= c <= "\u9fff")}')
    print(f'é¢„è§ˆ: {text[:200]}')
"
```

### å‘é‡æœç´¢è°ƒè¯•
```python
# ç›´æ¥æµ‹è¯•ChromaDBæŸ¥è¯¢
results = collection.query(query_texts=["æµ‹è¯•è¯"], n_results=5)
for i, (distance, doc) in enumerate(zip(results['distances'][0], results['documents'][0])):
    similarity = 1.0 / (1.0 + distance)
    print(f"ç»“æœ{i+1}: è·ç¦»={distance:.4f}, ç›¸ä¼¼åº¦={similarity:.4f}")
```

### APIæ¥å£æµ‹è¯•
```bash
# æµ‹è¯•æœç´¢åŠŸèƒ½
curl -X POST "http://127.0.0.1:8000/search"   -H "Content-Type: application/json"   -d '{"query": "æµ‹è¯•", "top_k": 3, "similarity_threshold": 0.3}'

# æµ‹è¯•é—®ç­”åŠŸèƒ½  
curl -X POST "http://127.0.0.1:8000/ask"   -H "Content-Type: application/json"   -d '{"question": "æµ‹è¯•é—®é¢˜", "domain": "", "user_id": "test"}'
```

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–å»ºè®®

### ç³»ç»Ÿç›‘æ§æŒ‡æ ‡
- PDFè§£ææˆåŠŸç‡å’Œä¸­æ–‡å­—ç¬¦æå–æ¯”ä¾‹
- å‘é‡æœç´¢ç»“æœæ•°é‡å’Œå¹³å‡ç›¸ä¼¼åº¦
- AIå›ç­”ç½®ä¿¡åº¦å’Œä¿¡æ¯æºæ•°é‡
- ç”¨æˆ·é—®é¢˜å“åº”æ—¶é—´

### æŒç»­æ”¹è¿›æ–¹å‘
1. **æ–‡æ¡£å¤„ç†**:
   - æ”¯æŒæ›´å¤šæ–‡æ¡£æ ¼å¼(PPT, å›¾ç‰‡ç­‰)
   - æ”¹è¿›OCRè¯†åˆ«å‡†ç¡®ç‡
   - ä¼˜åŒ–å¤§æ–‡ä»¶å¤„ç†æ€§èƒ½

2. **çŸ¥è¯†æ£€ç´¢**:
   - å®ç°æ··åˆæœç´¢(å…³é”®è¯+å‘é‡)
   - ä¼˜åŒ–æœç´¢ç»“æœæ’åºç®—æ³•
   - å¢åŠ æœç´¢ç»“æœç¼“å­˜æœºåˆ¶

3. **AIé—®ç­”**:
   - é›†æˆæ›´å¤šé¢†åŸŸé€‚é…å™¨
   - å®ç°å¤šè½®å¯¹è¯ä¼˜åŒ–
   - å¢å¼ºæ¨ç†é“¾å±•ç¤º

## ğŸ¯ æœªæ¥è§„åˆ’

### çŸ­æœŸç›®æ ‡ (1-2å‘¨)
- [ ] é›†æˆAIè¿›åŒ–ç³»ç»Ÿåˆ°ä¸»è¦ç»„ä»¶
- [ ] æ·»åŠ è‡ªåŠ¨åŒ–æµ‹è¯•éªŒè¯
- [ ] å®Œå–„ç”¨æˆ·åé¦ˆæ”¶é›†æœºåˆ¶

### ä¸­æœŸç›®æ ‡ (1-2æœˆ)
- [ ] å®ç°åœ¨çº¿å­¦ä¹ èƒ½åŠ›
- [ ] å»ºç«‹çŸ¥è¯†åº“ç‰ˆæœ¬ç®¡ç†
- [ ] å¢åŠ å¤šæ¨¡æ€å†…å®¹æ”¯æŒ

### é•¿æœŸæ„¿æ™¯ (3-6æœˆ)
- [ ] å®Œå…¨è‡ªä¸»çš„é—®é¢˜è¯Šæ–­å’Œä¿®å¤
- [ ] è·¨é¡¹ç›®ç»éªŒçŸ¥è¯†å…±äº«
- [ ] AIè¾…åŠ©çš„ä»£ç ç”Ÿæˆå’Œä¼˜åŒ–

---

*è¿™ä¸ªè®°å¿†ç³»ç»Ÿä¼šæŒç»­æ›´æ–°ï¼Œè®°å½•æ¯æ¬¡é‡è¦çš„å¼€å‘è¿›å±•å’Œè°ƒè¯•ç»éªŒã€‚*
*æœ€åæ›´æ–°æ—¶é—´: 2025-07-30*
